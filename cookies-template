# TikTok Authentication Cookie Template

This template provides the format for TikTok authentication cookies used by yt-dlp and gallery-dl.

## Required Cookies

| Cookie Name | Purpose | Importance |
|-------------|---------|------------|
| `tt_webid` | Device ID | Required |
| `tt_webid_v2` | Device ID v2 | Required |
| `sid_tt` | Session token | **Most important** |
| `sessionid` | Session ID | Required |
| `__ac_nonce` | Anti-bot nonce | Required |
| `__ac_signature` | Anti-bot signature | Required |

## Cookie Directory Structure

```
tok2gram/
├── data/
│   └── cookies/
│       ├── tiktok.txt    # Your actual TikTok cookies (rename from template)
│       └── README.md     # This file explains the structure
├── cookies-template      # This template file (do NOT use directly)
└── ...
```

**Important:** Place your actual cookies file at `data/cookies/tiktok.txt`. Rename this template
or copy its format to create your actual cookies file.

## Netscape Cookie Format (for yt-dlp)

```# Netscape HTTP Cookie File
# This file was generated by tok2gram
# Edit the values below with your actual TikTok session cookies

.tiktok.com	TRUE	/	FALSE	0	tt_webid	YOUR_TT_WEBID_HERE
.tiktok.com	TRUE	/	FALSE	0	tt_webid_v2	YOUR_TT_WEBID_V2_HERE
.tiktok.com	TRUE	/	FALSE	0	sid_tt	YOUR_SID_TT_HERE
.tiktok.com	TRUE	/	FALSE	0	sessionid	YOUR_SESSIONID_HERE
.tiktok.com	TRUE	/	FALSE	0	__ac_nonce	YOUR_AC_NONCE_HERE
.tiktok.com	TRUE	/	FALSE	0	__ac_signature	YOUR_AC_SIGNATURE_HERE
```

## How to Obtain TikTok Cookies

1. **Using Browser Developer Tools:**
   - Open TikTok in your browser (logged in)
   - Press F12 to open Developer Tools
   - Go to Application → Cookies → https://www.tiktok.com
   - Copy the values for the cookies listed above

2. **Using Browser Extensions:**
   - Install a cookies export extension (e.g., "EditThisCookie")
   - Export cookies in Netscape format

3. **Using curl (Advanced):**
   ```bash
   curl -s "https://www.tiktok.com/api/user/list/" \
     -H "Cookie: tt_webid=YOUR_WEBID; sid_tt=YOUR_SID" \
     --dump-header headers.txt
   ```

## Security Notes

- **Never share your cookies** - They provide full access to your TikTok account
- **Add `data/cookies/` to `.gitignore`** to prevent accidental commits
- **Refresh cookies periodically** as they may expire
- If cookies stop working, log out and log back in to TikTok, then export again

## Using with yt-dlp

```bash
# Use with yt-dlp
yt-dlp --cookies data/cookies/tiktok.txt "https://www.tiktok.com/@username/video/1234567890"
```

## Troubleshooting

| Issue | Solution |
|-------|----------|
| "Sign in to continue" error | Refresh your cookies |
| "Something went wrong" | Try adding `__ac_nonce` and `__ac_signature` |
| Age-restricted content | Ensure you're logged into an age-appropriate account |
| Rate limiting | Cookies may be flagged; try a fresh session |
